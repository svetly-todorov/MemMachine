---
title: "Client Library"
description: "A Python client library for the MemMachine memory system."
icon: "handshake"
---

## MemMachine Python Client: Seamless Memory for Your AI Applications

The **MemMachine Client** is a simple, type-safe Python SDK that gives your AI agents and applications access to a powerful memory backbone. It handles the complexity of context management, retrieval, and storage, allowing you to focus on building intelligent features.

## Why Use This Client?

- **Effortless Context:** Automatically links memories to specific users, agents, and conversations, ensuring every interaction is contextually rich.
- **Unified Memory:** Use a single, intuitive `memory.add()` method to manage **Episodic Memory** (short-term conversation history) and **Profile Memory** (long-term user facts).
- **Built-in Reliability:** Comes standard with robust error handling, automatic retries, and request timeouts.
- **Developer Friendly:** Provides full Python **type hints** for a smooth, predictable development experience.

## Installation

You can easily add the `MemMachine Client` to your project using `pip`.

```bash
# We recommend installing the full dependencies, including 'requests'
pip install memmachine-client
```

## Quick Start: Your First Memory

### 1. Initialize the Client

Connect to your MemMachine server using the **`MemMachineClient`**.

```python
from memmachine import MemMachineClient

client = MemMachineClient(
    # Set the server URL and optional timeout
    base_url="http://localhost:8080",
    timeout=30
)
```

### 2. Create a Contextual Memory Instance

To use memory, you must create a **`memory` instance** that defines the context of the conversation. This context is essential for retrieval.

| **Parameter**    | **Purpose**                                                  |
| ---------------- | ------------------------------------------------------------ |
| **`user_id`**    | **Required.** The individual whose memories are being managed. |
| **`session_id`** | The specific conversation ID (e.g., a chat room).            |
| **`group_id`**   | A shared group/team identifier (optional).                   |
| **`agent_id`**   | The ID of the agent/bot interacting with the user (optional). |

```python
# Create a memory instance for a specific user in a specific session
memory = client.memory(
    group_id="my_project_team",
    user_id="alice_456",
    session_id="chat_session_007"
)
```

### 3. Add and Search Memories

Use the intuitive `add()` and `search()` methods to store and retrieve information.

```python
# Store long-term facts using metadata
memory.add(
    "I work as a software engineer at Acme Corp.", 
    metadata={"type": "fact", "topic": "work"}
)
memory.add(
    "I prefer working from home on Fridays.",
    metadata={"type": "preference"}
)

# Search for relevant context
results = memory.search("Where does Alice work and what is her job?")

# Output (Results are returned as a combined context dictionary)
print(results)
```
## API Reference

### MemMachineClient (Core)

The main class used to configure the connection to the MemMachine server.

#### Constructor

```python
MemMachineClient(
    api_key: Optional[str] = None,
    base_url: str = "http://localhost:8080",  # Default server location
    timeout: int = 30,                       # Request timeout in seconds
    max_retries: int = 3,                    # How many times to retry on connection failure
    **kwargs
)
```

#### Key Methods

| **Method**                  | **Description**                                              |
| --------------------------- | ------------------------------------------------------------ |
| **`client.memory(...)`**    | Instantiates a new **`Memory`** object based on the provided context IDs (`user_id`, `session_id`, etc.). This is your primary entry point. |
| **`client.health_check()`** | Returns the server's health status, useful for confirming connectivity and readiness. |

### Memory (Contextual Interface)

The object returned by `client.memory(...)`, which contains all the primary functions for memory manipulation.

#### Key Methods

| **Method**                      | **Description**                                              |
| ------------------------------- | ------------------------------------------------------------ |
| **`memory.add(content, ...)`**  | Records a new memory entry (**episode**). Content is automatically classified and stored in both short-term and long-term memory. |
| **`memory.search(query, ...)`** | Searches all relevant memory stores (Episodic and Profile) to retrieve the most contextually helpful information for the given `query`. |
| **`memory.get_context()`**      | Retrieves the full context string of the current session, useful for LLM prompts. |

## Advanced Examples

### Filtering Search Results

You can add a `filter_dict` to the search method to retrieve only memories that match the specific metadata you added earlier.

```python
# Example: Using a memory instance created in the Quick Start
# memory.add("I work as a software engineer...", metadata={"topic": "work"})

# Search only memories that have a "topic" of "work"
work_results = memory.search(
    query="What is my profession?", 
    filter_dict={"topic": "work"}
)

print(f"Work memories: {work_results}")
```

### Context Manager Usage

Use the client as a **context manager (`with ...`)** to ensure that all resources are properly released when you are done.

```python
from memmachine import MemMachineClient

# The client handles setup and teardown automatically
with MemMachineClient(base_url="http://localhost:8080") as client:
    memory = client.memory(user_id="temp_user")
    
    memory.add("This memory is safe.")
    results = memory.search("Is this safe?")
    
    print(f"Results: {results}")

# Client connection is automatically closed here.
```

## Configuration

The client can be configured explicitly during initialization or via environment variables, with explicit parameters taking precedence.

| **Variable/Parameter**                | **Default**             | **Description**                                  |
| ------------------------------------- | ----------------------- | ------------------------------------------------ |
| `MEMORY_BACKEND_URL` / **`base_url`** | `http://localhost:8080` | The host and port of the MemMachine server.      |
| `MEMORY_API_KEY` / **`api_key`**      | `None`                  | API key used for authentication with the server. |
| N/A / **`timeout`**                   | `30`                    | Request timeout in seconds.                      |
| N/A / **`max_retries`**               | `3`                     | Maximum number of attempts for failed requests.  |
